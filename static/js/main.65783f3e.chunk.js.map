{"version":3,"sources":["components/Searchbar/Searchbar.jsx","images/default.jpg","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/images-api.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Notification/Notification.jsx","components/AboutAppInfo/AboutAppInfo.jsx","App.jsx","index.js"],"names":["Searchbar","state","searchQuery","handleSearchChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","resetPage","className","this","type","id","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","openModal","webformatURL","defaultImage","largeImageURL","tags","onClick","evt","target","dataset","source","alt","src","ImageGallery","images","map","fetchImages","page","a","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","url","fetch","response","json","fetchObject","hits","imagesArray","length","Promise","reject","Error","Button","Loading","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","window","addEventListener","removeEventListener","createPortal","modalImage","modalImageAlt","Notification","message","AboutAppInfo","href","App","isLoading","showModal","error","startAbout","getSearchQuerry","pageIncrement","prevState","toggleIsLoading","toggleModal","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevSearchQuerry","nextSearchQuerry","prevPage","nextpage","prevImages","prevmodalImage","nextmodalImage","prevShowModal","nextshowModal","setTimeout","imageAPI","then","catch","finally","scroll","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.65783f3e.chunk.js","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Searchbar/Searchbar.scss';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    resetPage: PropTypes.func.isRequired,\n    // getError: PropTypes.func.isRequired,\n  };\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchChange = (event) => {\n    this.setState({\n      searchQuery: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      this.props.onSubmit(this.state.searchQuery.trim());\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n    this.props.resetPage();\n  };\n\n  render() {\n    return (\n      <header className=\"searchbar\">\n        <form className=\"searchform\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"searchform__button\">\n            <span className=\"searchform__button--label\">Search</span>\n          </button>\n\n          <input\n            id=\"anchor\"\n            className=\"searchform__input\"\n            type=\"text\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../ImageGalleryItem/ImageGalleryItem.scss';\nimport defaultImage from '../../images/default.jpg';\n\nconst ImageGalleryItem = ({\n  openModal,\n  webformatURL = defaultImage,\n  largeImageURL,\n  tags,\n}) => {\n  return (\n    <>\n      <li className=\"gallery__item\">\n        <img\n          onClick={(evt) =>\n            openModal(evt.target.dataset.source, evt.target.alt)\n          }\n          src={webformatURL}\n          alt={tags}\n          data-source={largeImageURL}\n          className=\"gallery__image\"\n        />\n      </li>\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  openModal: PropTypes.func.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport '../ImageGallery/ImageGallery.scss';\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className=\"gallery\">\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          openModal={openModal}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '22356210-f5a6fb995cd777b2b01184cc9';\n\nconst fetchImages = async (searchQuery, page) => {\n  const searchParams = new URLSearchParams({\n    image_type: 'photo',\n    orientation: 'horizontal',\n    q: searchQuery,\n    page,\n    per_page: 12,\n    key: `${API_KEY}`,\n  });\n  const url = `${BASE_URL}/?${searchParams}`;\n\n  const response = await fetch(url);\n  const fetchObject = await response.json();\n  const imagesArray = await fetchObject.hits;\n\n  if (imagesArray.length !== 0) {\n    return imagesArray;\n  }\n\n  return Promise.reject(new Error(`No pictures with name \"${searchQuery}\"`));\n};\n\nexport default fetchImages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../Button/Button.scss';\n\nconst Button = ({ page }) => {\n  return (\n    <>\n      <button type=\"button\" className=\"button\" onClick={page}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nButton.propTypes = {\n  page: PropTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport '../Loader/Loader.scss';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Loading = () => {\n  return (\n    <Loader\n      className=\"loader\"\n      type=\"Circles\"\n      color=\"#303f9f\"\n      height={100}\n      width={100}\n      timeout={500}\n    />\n  );\n};\n\nexport default Loading;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    closeModal: PropTypes.func.isRequired,\n    modalImage: PropTypes.string.isRequired,\n    modalImageAlt: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = (evt) => {\n    if (evt.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"modal\">\n          <img\n            className=\"modal__image\"\n            src={this.props.modalImage}\n            alt={this.props.modalImageAlt}\n          />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React from 'react';\nimport '../Notification/Notification.scss';\n\nconst Notification = ({ message }) => (\n  <h1 className=\"notification__error\">{message}</h1>\n);\n\nexport default Notification;\n","import React from 'react';\nimport '../AboutAppInfo/AboutAppInfo.scss';\n\nconst AboutAppInfo = () => {\n  return (\n    <div className=\"about\">\n      <h2 className=\"about__title\">About this API</h2>\n      <p className=\"about__description\">\n        Good day, my friend! I wanted to tell you a little bit about this app.\n        This application for searching images by search word. To start using,\n        enter the text in the search. To loade more images, you will see a\n        button to loade more. If no images are displayed for your request, you\n        will see notifications. Re-enter your request. When you enter a blank\n        value in the search field, you will also see a notification. You can\n        also download in your Device the image you like. I wish you a pleasant\n        use. Thank you for reading this information to the end!\n      </p>\n\n      <a className=\"anchor__link\" href=\"#anchor\">\n        Get Start\n      </a>\n    </div>\n  );\n};\n\nexport default AboutAppInfo;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n// import Clock from './components/Clock';\nimport imageAPI from './services/images-api';\nimport Button from './components/Button';\nimport Loading from './components/Loader';\nimport Modal from './components/Modal';\nimport Notification from './components/Notification';\nimport AboutAppInfo from './components/AboutAppInfo';\nimport './App.scss';\n\nclass App extends Component {\n  state = {\n    searchQuery: null,\n    page: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n    modalImage: '',\n    modalImageAlt: '',\n    error: null,\n    startAbout: true,\n  };\n\n  scroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuerry = prevState.searchQuery;\n    const nextSearchQuerry = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextpage = this.state.page;\n    const prevImages = prevState.images;\n    const prevmodalImage = prevState.modalImage;\n    const nextmodalImage = this.state.modalImage;\n    const prevShowModal = prevState.showModal;\n    const nextshowModal = this.state.showModal;\n\n    if (prevmodalImage !== nextmodalImage) {\n      return;\n    }\n\n    if (prevSearchQuerry !== nextSearchQuerry) {\n      this.toggleIsLoading();\n      this.setState({ images: [], error: null, startAbout: false });\n\n      if (nextSearchQuerry === '') {\n        setTimeout(() => {\n          this.setState({\n            error: { message: 'Ops, empty. Please enter something...' },\n          });\n          this.toggleIsLoading();\n        }, 500);\n        return;\n      }\n\n      imageAPI(nextSearchQuerry, nextpage)\n        .then((images) => this.setState({ images }))\n        .catch((error) => this.setState({ error }))\n        .finally(this.toggleIsLoading);\n    }\n\n    if (nextpage === 1) {\n      return;\n    }\n\n    if (prevPage !== nextpage) {\n      this.toggleIsLoading();\n\n      imageAPI(prevSearchQuerry, nextpage)\n        .then((images) => {\n          this.setState({ images: [...prevImages, ...images] });\n        })\n        .catch((error) =>\n          this.setState({\n            images: [],\n            error: { message: 'Sorry, no more pictures ...' },\n          })\n        )\n        .finally(this.toggleIsLoading);\n    }\n\n    if (!prevShowModal && !nextshowModal) {\n      this.scroll();\n    }\n  }\n\n  getSearchQuerry = (searchQuery) => this.setState({ searchQuery });\n\n  pageIncrement = () =>\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n\n  resetPage = () => this.setState({ page: 1 });\n\n  toggleIsLoading = () =>\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\n\n  toggleModal = () =>\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n\n  openModal = (url, alt) => {\n    this.toggleModal();\n\n    this.setState(({ modalImage }) => ({\n      modalImage: url,\n      modalImageAlt: alt,\n    }));\n  };\n\n  closeModal = () => {\n    this.toggleModal();\n\n    this.setState(({ modalImage }) => ({\n      modalImage: '',\n      modalImageAlt: '',\n    }));\n  };\n\n  render() {\n    const {\n      images,\n      showModal,\n      modalImage,\n      modalImageAlt,\n      error,\n      isLoading,\n      startAbout,\n    } = this.state;\n    return (\n      <main className=\"app\">\n        <Searchbar onSubmit={this.getSearchQuerry} resetPage={this.resetPage} />\n        {error && <Notification message={error.message} />}\n        {startAbout ? (\n          <AboutAppInfo />\n        ) : (\n          <ImageGallery images={images} openModal={this.openModal} />\n        )}\n        {isLoading && <Loading />}\n        {images.length >= 12 ? <Button page={this.pageIncrement} /> : null}\n        {showModal && (\n          <Modal\n            closeModal={this.closeModal}\n            modalImage={modalImage}\n            modalImageAlt={modalImageAlt}\n          />\n        )}\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/base.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}